(()=>{"use strict";var e=document.querySelector(".profile__edit-button"),t=document.querySelector(".profile__add-button"),n=document.querySelector(".popup_type_profile"),o=document.querySelector(".popup_type_place"),r=document.querySelector(".popups"),c=document.querySelector(".popup__input_type_place"),u=document.querySelector(".popup__input_type_url"),p=document.querySelector(".popup_type_avatar"),i=document.querySelector(".popup__form_place"),a=document.querySelector(".profile__name"),l=document.querySelector(".profile__status"),s=document.querySelector(".popup__input_type_name"),d=document.querySelector(".popup__input_type_job"),_=document.querySelector("#template-elements").content.querySelector(".element"),m=document.querySelector(".popup_type_img"),y=m.querySelector(".popup__image"),v=m.querySelector(".popup__caption"),f=document.querySelector(".elements"),q=document.querySelector(".profile__avatar_overlay"),S=document.querySelector(".popup__form"),k=S.querySelector(".popup__input"),x=(S.querySelector("#".concat(k.id,"-error")),"popup__input_error"),L="form__input-error_active",g="popup__save-button_inactive";Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".button");t.forEach((function(o){o.addEventListener("input",(function(){(function(e,t){t.validity.valid?function(e,t){var n=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(x),n.classList.remove(L),n.textContent=""}(e,t):function(e,t,n){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.add(x),o.classList.add(L),o.textContent=n}(e,t,t.validationMessage)})(e,o),J(t,n)}))}))}(e)}));var J=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(g),t.disabled=!1):(t.classList.add(g),t.disabled=!0)},h=function(e){var t=b(e);f.prepend(t)},b=function(e){var t=_.cloneNode(!0);t.querySelector(".element__text").textContent=e.name;var n=t.querySelector(".element__photo");return n.src=e.link,n.alt="Изображение ".concat(e.name),t.querySelector(".element__delete").addEventListener("click",E),n.addEventListener("click",(function(){y.src=e.link,y.alt="Изображение ".concat(e.name),v.textContent=e.name,w(m)})),t.querySelector(".element__like-button").addEventListener("click",(function(e){e.target.classList.toggle("element__like-button_active")})),t},E=function(e){e.target.closest(".element").remove()};function w(e){e.classList.add("popup_opened"),document.addEventListener("keydown",D)}function U(){document.querySelector(".popup_opened").classList.remove("popup_opened"),document.removeEventListener("keydown",D)}var D=function(e){"Escape"===e.key&&U()};e.addEventListener("click",(function(){s.value=a.textContent,d.value=l.textContent,w(n)})),t.addEventListener("click",(function(){w(o)})),q.addEventListener("click",(function(){w(p)})),r.addEventListener("click",(function(e){(e.target.closest(".popup__close-button")||e.target.classList.contains("popup"))&&U()})),n.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=s.value,l.textContent=d.value,s.value="",d.value="",U()})),i.addEventListener("submit",(function(e){e.preventDefault();var t=c.value,n=u.value;h({name:t,link:n}),U(),i.reset()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1634745186518-db2e653372c9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8JUQwJUJBJUQwJUIwJUQwJUJDJUQxJTg3JUQwJUIwJUQxJTgyJUQwJUJBJUQwJUIwfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Санк-Петербург",link:"https://media.istockphoto.com/id/152975250/ru/фото/ночной-город-и-канал-и-собор.jpg?s=612x612&w=0&k=20&c=P0WVPTADIwA3Hg5teablLnB8GDuHBb3EbItOhsuwJIU="},{name:"Кольский",link:"https://media.istockphoto.com/id/507518886/ru/фото/хибины-зимой.jpg?s=612x612&w=0&k=20&c=D37R-qGr_xCKenu2rtBgYWvNisZ7x7lWGZoOuhE_NWc="}].forEach((function(e){return h(e)}))})();