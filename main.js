(()=>{"use strict";var e=document.querySelector(".popup__form"),t=e.querySelector(".popup__input");e.querySelector("#".concat(t.id,"-error")),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".button");t.forEach((function(r){r.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.remove("popup__input_error"),o.classList.remove("form__input-error_active"),o.textContent=""}(e,t):function(e,t,o){var n=e.querySelector("#".concat(t.id,"-error"));t.classList.add("popup__input_error"),n.textContent=o,n.classList.add("form__input-error_active")}(e,t,t.validationMessage)}(e,r),o(t,n)}))}))}(e)}));var o=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.remove("popup__save-button_inactive"):t.classList.add("popup__save-button_inactive")},n=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),c=document.querySelector(".popup_type_profile"),u=document.querySelector(".popup_type_place"),p=document.querySelector(".popups"),i=document.querySelector(".popup__input_type_place"),a=document.querySelector(".popup__input_type_url"),l=document.querySelector(".popup_type_avatar"),d=document.querySelector(".popup__form_place"),s=document.querySelector(".profile__name"),_=document.querySelector(".profile__status"),m=document.querySelector(".popup__input_type_name"),y=document.querySelector(".popup__input_type_job"),v=document.querySelector("#template-elements").content.querySelector(".element"),f=document.querySelector(".popup_type_img"),q=f.querySelector(".popup__image"),S=f.querySelector(".popup__caption"),k=document.querySelector(".elements"),L=document.querySelector(".profile__avatar_overlay"),x=function(e){var t=g(e);k.prepend(t)},g=function(e){var t=v.cloneNode(!0);t.querySelector(".element__text").textContent=e.name;var o=t.querySelector(".element__photo");return o.src=e.link,o.alt="Изображение ".concat(e.name),t.querySelector(".element__delete").addEventListener("click",J),o.addEventListener("click",(function(){q.src=e.link,q.alt="Изображение ".concat(e.name),S.textContent=e.name,h(f)})),t.querySelector(".element__like-button").addEventListener("click",(function(e){e.target.classList.toggle("element__like-button_active")})),t},J=function(e){e.target.closest(".element").remove()};function h(e){e.classList.add("popup_opened"),document.addEventListener("keydown",b)}function E(){document.querySelector(".popup_opened").classList.remove("popup_opened"),document.addEventListener("keydown",b)}var b=function(e){"Escape"===e.key&&E(document.querySelector(".popup_opened"))};n.addEventListener("click",(function(){h(c)})),r.addEventListener("click",(function(){h(u)})),L.addEventListener("click",(function(){h(l)})),p.addEventListener("click",(function(e){(e.target.closest(".popup__close-button")||e.target.classList.contains("popup"))&&E()})),c.addEventListener("submit",(function(e){e.preventDefault(),s.textContent=m.value,_.textContent=y.value,m.value="",y.value="",E()})),d.addEventListener("submit",(function(e){e.preventDefault();var t=i.value,o=a.value;x({name:t,link:o}),E()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1634745186518-db2e653372c9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8JUQwJUJBJUQwJUIwJUQwJUJDJUQxJTg3JUQwJUIwJUQxJTgyJUQwJUJBJUQwJUIwfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Санк-Петербург",link:"https://media.istockphoto.com/id/152975250/ru/фото/ночной-город-и-канал-и-собор.jpg?s=612x612&w=0&k=20&c=P0WVPTADIwA3Hg5teablLnB8GDuHBb3EbItOhsuwJIU="},{name:"Кольский",link:"https://media.istockphoto.com/id/507518886/ru/фото/хибины-зимой.jpg?s=612x612&w=0&k=20&c=D37R-qGr_xCKenu2rtBgYWvNisZ7x7lWGZoOuhE_NWc="}].forEach((function(e){return x(e)}))})();