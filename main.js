(()=>{"use strict";var e=document.querySelector(".popup__form"),t=e.querySelector(".popup__input");e.querySelector("#".concat(t.id,"-error")),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input")),o=e.querySelector(".button");t.forEach((function(r){r.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector("#".concat(t.id,"-error"));t.classList.remove("popup__input_error"),n.classList.remove("form__input-error_active"),n.textContent=""}(e,t):function(e,t,n){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.add("popup__input_error"),o.textContent=n,o.classList.add("form__input-error_active")}(e,t,t.validationMessage)}(e,r),n(t,o)}))}))}(e)}));var n=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.remove("popup__save-button_inactive"):t.classList.add("popup__save-button_inactive")},o=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),c=document.querySelector(".popup_type_profile"),u=document.querySelector(".popup_type_place"),p=document.querySelector(".popups"),i=document.querySelector(".popup__input_type_place"),a=document.querySelector(".popup__input_type_url"),l=document.querySelector(".popup__form_place"),s=document.querySelector(".profile__name"),d=document.querySelector(".profile__status"),_=document.querySelector(".popup__input_type_name"),m=document.querySelector(".popup__input_type_job"),y=document.querySelector("#template-elements").content.querySelector(".element"),v=document.querySelector(".popup_type_img"),f=v.querySelector(".popup__image"),q=v.querySelector(".popup__caption"),S=document.querySelector(".elements"),k=function(e){var t=L(e);S.prepend(t)},L=function(e){var t=y.cloneNode(!0);t.querySelector(".element__text").textContent=e.name;var n=t.querySelector(".element__photo");return n.src=e.link,n.alt="Изображение ".concat(e.name),t.querySelector(".element__delete").addEventListener("click",x),n.addEventListener("click",(function(){f.src=e.link,f.alt="Изображение ".concat(e.name),q.textContent=e.name,g(v)})),t.querySelector(".element__like-button").addEventListener("click",(function(e){e.target.classList.toggle("element__like-button_active")})),t},x=function(e){e.target.closest(".element").remove()};function g(e){e.classList.add("popup_opened"),document.addEventListener("keydown",h)}function J(){document.querySelector(".popup_opened").classList.remove("popup_opened"),document.addEventListener("keydown",h)}var h=function(e){"Escape"===e.key&&J(document.querySelector(".popup_opened"))};o.addEventListener("click",(function(){g(c)})),r.addEventListener("click",(function(){g(u)})),p.addEventListener("click",(function(e){(e.target.closest(".popup__close-button")||e.target.classList.contains("popup"))&&J()})),c.addEventListener("submit",(function(e){e.preventDefault(),s.textContent=_.value,d.textContent=m.value,_.value="",m.value="",J()})),l.addEventListener("submit",(function(e){e.preventDefault();var t=i.value,n=a.value;k({name:t,link:n}),J()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1634745186518-db2e653372c9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8JUQwJUJBJUQwJUIwJUQwJUJDJUQxJTg3JUQwJUIwJUQxJTgyJUQwJUJBJUQwJUIwfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Санк-Петербург",link:"https://media.istockphoto.com/id/152975250/ru/фото/ночной-город-и-канал-и-собор.jpg?s=612x612&w=0&k=20&c=P0WVPTADIwA3Hg5teablLnB8GDuHBb3EbItOhsuwJIU="},{name:"Кольский",link:"https://media.istockphoto.com/id/507518886/ru/фото/хибины-зимой.jpg?s=612x612&w=0&k=20&c=D37R-qGr_xCKenu2rtBgYWvNisZ7x7lWGZoOuhE_NWc="}].forEach((function(e){return k(e)}))})();